{
  "name": "economat-desktop",
  "version": "1.0.0",
  "description": "Client desktop pour Economat (Astro + Strapi)",
  "homepage": "https://github.com/Gwilymm/cmsw11",
  "author": {
    "name": "Gwilym Truc",
    "email": "gwilym@example.com"
  },
  "main": "main.js",
  "scripts": {
    "build:frontend": "cd ../frontend && pnpm install && pnpm run build && rm -rf dist-frontend && cp -R dist ../desktop-packager/dist-frontend",
    "build:backend": "cd ../economat-backend && pnpm install && NODE_ENV=production pnpm run build && rm -rf build-backend && cp -R dist ../desktop-packager/build-backend",
    "build:desktop": "pnpm run build:frontend && pnpm run build:backend",
    "package:win": "pnpm run build:desktop && pnpm exec electron-builder --win",
    "package:linux": "pnpm run build:desktop && pnpm exec electron-builder --linux"
  },
  "devDependencies": {
    "electron": "^25.0.0",
    "electron-builder": "^24.0.0"
  },
  "build": {
    "appId": "com.economat.desktop",
    "directories": {
      "output": "dist"
    },
    "asar": true,
    "asarUnpack": [
      "dist-frontend/**",
      "build-backend/**"
    ],
    "files": [
      "**/*"
    ],
    "win": {
      "target": [
        "nsis",
        "zip"
      ],
      "icon": "../frontend/public/favicon.svg"
    },
    "linux": {
      "target": [
        "AppImage",
        "deb"
      ],
      "icon": "../frontend/public/favicon.svg",
      "maintainer": "Gwilym Truc <gwilym@example.com>",
      "category": "Utility"
    }
  }
}
